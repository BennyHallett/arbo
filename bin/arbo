#!/usr/bin/env ruby
require 'arbo'
require 'arbo/init'
require 'arbo/set'

handlers = {
  'init' => InitCommand.new,
  'set'  => SetCommand.new
}

arbo = Arbo.new handlers
cmd = ARGV[0]
args = ARGV[1..-1]

puts "\nPlease enter your master password: "
password = $stdin.gets

begin
  arbo.go cmd, args, password
rescue Exception => e
  puts e
end
